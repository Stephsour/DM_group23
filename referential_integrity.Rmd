---
title: "check"
output: html_document
date: "2024-03-09"
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(RSQLite)
```

```{r}
database_connection <- RSQLite::dbConnect(RSQLite::SQLite(), "zara.db")
```


```{r}
zara_tables <- RSQLite::dbGetQuery(database_connection, "SELECT name FROM sqlite_master WHERE type='table'")$name
```

```{r}
fk_constraints_list = list()
for (table_name in zara_tables) {
  fk_constraints <- dbGetQuery(database_connection, paste("PRAGMA foreign_key_list(", table_name, ")"))
  fk_constraints_list[[table_name]] <- fk_constraints
}
```

```{r}
for (table_name in zara_tables) {
  if (nrow(fk_constraints_list[[table_name]]) > 0) {
    cat("Foreign key constraints for table", table_name, ":\n")
    print(fk_constraints_list[[table_name]])
    cat("\n")
    cat("\n")
  }
}
```

```{r}
RSQLite::dbDisconnect(database_connection)
```




